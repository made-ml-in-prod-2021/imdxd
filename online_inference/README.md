# Homework 2 directory

## Структура проекта
- logs - папка для логов
- model.pkl - файл модели
- src
    - configs - папка с кодом для config файлов для десериализации модели
    - encoders.py - кастомный трансформер для десериализации модели
    - pipelines.py - вспомогателньный функции и загрузка модели
- test - тесты для вебсервиса
- webserver.py - flask сервис для онлайн инференса 
- requirements.txt - внешние зависимости проекта
- README.md - описание проекта

## Сборка докера
Из папки проекта выполнить `docker build -t <your tag> .`

## Оптимизация размера контейнера

Основная оптимизация заключалась в использовании образа python:3.6-slim-stretch 
вместо python:3.6-stretch. Это уменьшило размера с 1.5Гб до 380Мб. 
Докер файл изначально конструировался только с необходимыми зависимостями 
и без использования лишних файлов скриптов. Используются только рекомендованные команды:
- FROM
- WORKDIR
- COPY
- CMD

Для большей ясности добавлен EXPOSE на просматриваемый порт.

## Запуск готового образа

- Для запуска образа необходимо его скачать `docker pull imdxd/webserver:latest`
- И далее выполнить команду запуска 
  `docker run -p <your port>:4000 imdxd/webserver:latest`